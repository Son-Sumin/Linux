<<tomcat9 설치>>
  * Xshell에서 설치

1. tomcat9 download 
   구글에서 tar 링크주소 복사

2. 작업은 /root

3. tomcat9.tar 설치 및 확인
   # wget tomcat9.tar 링크주소
  # ls -l 

4. 압축 풀기 및 확인
  # tar xvfz apache-tomcat-9.0.69.tar.gz
  # ls -l 

5. 파일 옮기기
  # mv apache-tomcat-9.0.69 /usr/local/bitacademy/tomcat9

6포트 확인
   # vi /usr/local/bitacademy/tomcat/conf/server.xml
   8080 open 확인

7. tomcat 실행 및 실행 확인
  # /usr/local/bitacademy/tomcat9/bin/catalina.sh start
  # ps -ef | grep tomcat
  # ps -ef | grep java

8. 브라우저 접근 
192.168.136.117:8080

9. 실행 안되면 방화벽 확인 후 해제 및 해제 유지
  # ps -ef | grep firewall
  # systemctl stop firewalld
  # systemctl disable firewalld

10. tomcat 실행 중지 및 확인
  # /usr/local/bitacademy/tomcat/bin/catalina.sh stop
  # ps -ef | grep tomcat
  # ps -ef | grep java

cf) 필터링 과정, 한줄씩 훑으면서 tomcat 명령어 유무 확인 후 있으면 실행
      ps -ef | grep tomcat

11. 서비스 등록 하기
  # /usr/lib/systemd/system/tomcat.service 파일 생성

** 파일 생성 규칙**
[Unit]
Description=tomcat9
After=network.target syslog.target

[Service]
Type=forking

Environment=JAVA_HOME=/usr/local/bitacademy/java
User=root
Group=root

ExecStart=/usr/local/bitacademy/tomcat/bin/startup.sh
ExecStop=/usr/local/bitacademy/tomcat/bin/shutdown.sh

UMask=0007
RestartSec=10
Restart=always

[Install]
WantedBy=multi-user.target

 # systemctl enable tomcat.service

12. tomcat 서비스 실행/중지/재실행
   # systemctl start tomcat
   # systemctl stop tomcat
   # systemctl restart tomcat

13. tomcat manager 설정
   1) tomcat-users.xml 설정
      # vi /usr/local/bitacademy/tomcat/conf/tomcat-users.xml

========================================================
<tomcat-users>
  . . .
  . . . 
  <role rolename="manager"/>
  <role rolename="manager-gui" />
  <role rolename="manager-script" />
  <role rolename="manager-jmx" />
  <role rolename="manager-status" />
  <role rolename="admin"/>
  <user username="admin" password="manager" roles="admin,manager,manager-gui, manager-script, manager-jmx, manager-status"/>

</tomcat-users>
========================================================
   2) /usr/local/bitacademy/tomcat/webapps/manager/META-INF/context.xml
========================================================
 주석 처리
<Context>
 ....
</Context>

새로 다음내용 추가
<Context antiResourceLocking="false" privileged="true" docBase="${catalina.home}/webapps/manager">
  <Valve className="org.apache.catalina.valves.RemoteAddrValve"
         allow="^.*$" />
</Context>

========================================================

14. tomcat 재시작
    # systemctl stop tomcat
    # ps -ef | grep tomcat
    # systemctl start tomcat

15. http://192.168.0.107/manager
